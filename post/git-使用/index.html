<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https://cshi11.github.io/"
        },
        "articleSection" : "post",
        "name" : "Git 使用",
        "headline" : "Git 使用",
        "description" : "<ul>
<li>分布式版本控制系统</li>
</ul>

<h2 id="本地-git">本地 Git</h2>

<h3 id="安装-配置">安装&amp;配置</h3>",
        "inLanguage" : "en",
        "author" : "",
        "creator" : "",
        "publisher": "",
        "accountablePerson" : "",
        "copyrightHolder" : "",
        "copyrightYear" : "2016",
        "datePublished": "2016-11-05 19:57:40 &#43;0530 &#43;0530",
        "dateModified" : "2016-11-05 19:57:40 &#43;0530 &#43;0530",
        "url" : "https://cshi11.github.io/post/git-%E4%BD%BF%E7%94%A8/",
        "wordCount" : "370",
        "image" : https://cshi11.github.io/img/portfolio/git.png",
        "keywords" : [ "Blog" ]   
    }
    </script>


 <title>Git 使用 </title>


<meta name="description" content="Describe your website" />



<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="all,follow">
<meta name="googlebot" content="index,follow,snippet,archive">
<link rel="stylesheet" id="ct-tracks-google-fonts-css" href="//fonts.googleapis.com/css?family=Raleway%3A400%2C700&amp;subset=latin%2Clatin-ext&amp;ver=4.7.2" type="text/css" media="all">
<link rel="stylesheet" href="https://cshi11.github.io/css/font-awesome.min.css" type='text/css' media='all'>

<link href="https://cshi11.github.io/css/style.css" rel="stylesheet" id="theme-stylesheet" type='text/css' media='all'>

<link href="https://cshi11.github.io/css/custom.css" rel="stylesheet" type='text/css' media='all'>
<link rel="shortcut icon" href="https://cshi11.github.io/img/favicon.ico" type="image/x-icon">
<link rel="icon" href="https://cshi11.github.io/img/favicon.ico" type="image/x-icon">


</head>


<body class="post-template-default single single-post single-format-standard ct-body singular singular-post not-front standard">

  <div id="overflow-container" class="overflow-container">
    <a class="skip-content" href="#main">Skip to content</a>
    <header id="site-header" class="site-header" role="banner">
      <div class='top-navigation'>
        <div class='container'>

  <div id="menu-secondary" class="menu-container menu-secondary" role="navigation">
    <button id="toggle-secondary-navigation" class="toggle-secondary-navigation"><i class="fa fa-plus"></i></button>

    <div class="menu">

      <ul id="menu-secondary-items" class="menu-secondary-items">
        
        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
          <a href="https://cshi11.github.io/categories/code">code</a>
        </li>
        
        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
          <a href="https://cshi11.github.io/categories/photography">photography</a>
        </li>
        
        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
          <a href="https://cshi11.github.io/categories/read">read</a>
        </li>
        

      </ul>

    </div>

  </div>


  <ul class="social-media-icons">


    

    

    

    

    
    <li>
      <a href="mailto:stancheng197@gmail.com" data-animate-hover="pulse" class="email">
        <i class="fa fa-envelope" title="email"></i>
        <span class="screen-reader-text">email</span>
      </a>
    </li>
    

    

    


    
    <li>
      <a href="https://github.com/cshi11" data-animate-hover="pulse" class="github" target="_blank">
        <i class="fa fa-github" title="github"></i>
        <span class="screen-reader-text">github</span>
      </a>
    </li>
    


    

    


  </ul></div>

      </div>

      <div class="container">
        <div id="title-info" class="title-info">
  <div id='site-title' class='site-title'>
    
    <a href="https://cshi11.github.io/"> 子适 Blog </a>
    </div>
  </div>
  <button id="toggle-navigation" class="toggle-navigation">
    <i class="fa fa-bars"></i>
  </button>

  <div id="menu-primary-tracks" class="menu-primary-tracks"></div>
  <div id="menu-primary" class="menu-container menu-primary" role="navigation">
    
    <p class="site-description">人生天地间，忽如远行客。</p>
    

    <div class="menu">
      <ul id="menu-primary-items" class="menu-primary-items">
        
        
        <li id="menu-item" class='menu-item menu-item-type-custom menu-item-object-custom '>
          <a href="https://cshi11.github.io/">Home</a>
          
        </li>
        
      </ul>
    </div>

  </div>

      </div>
    </header>

    <div id="main" class="main" role="main">

      
  
  
    
  
  
  <div id="loop-container" class="loop-container">
    
    <div class="post type-post status-publish format-standard has-post-thumbnail hentry category-design tag-design tag-standard-2 tag-tagalicious tag-travel entry full-without-featured odd excerpt-1">

      <div class='featured-image lazy lazy-bg-image'  data-background="https://cshi11.github.io/img/portfolio/git.png">
      </div>
      
        <div class="entry-meta">
          <span class="date">05 November</span>	<span> / </span>

          <span class="author">
            <a href="https://lherman.tk" title="Posts by 子适" rel="author">子适</a>
          </span>


          
          <span class="category">
            <span> / </span>

            <a href="https://cshi11.github.io/categories/code">code</a>
          </span>
          


        </div>
        <div class='entry-header'>
          <h1 class='entry-title'> Git 使用</h1>
        </div>
        <div class="entry-container">
          <div class="entry-content">
            <article>
              <ul>
<li>分布式版本控制系统</li>
</ul>

<h2 id="本地-git">本地 Git</h2>

<h3 id="安装-配置">安装&amp;配置</h3>

<ul>
<li>配置全局用户名和邮箱</li>
</ul>

<pre><code class="language-bash">$ git config --global user.name &quot;Your Name&quot;
$ git config --global user.email &quot;email@example.com&quot;
</code></pre>

<ul>
<li>创建仓库</li>
</ul>

<pre><code class="language-bash">$ mkdir learngit
$ cd learngit
$ git init
Initialized empty Git repository in /Users/michael/learngit/.git/
</code></pre>

<h3 id="工作区-暂存区-分支">工作区&amp;暂存区&amp;分支</h3>

<p><img src="https://cshi11.github.io/Users/cshi/Desktop/学习笔记/assets/WX20190111-123155.png" alt="WX20190111-123155" /></p>

<h3 id="将文件放入git仓库-创建和更新">将文件放入Git仓库(创建和更新)</h3>

<pre><code class="language-bash">$ git add readme.txt
$ git commit -m &quot;wrote a readme file&quot;
[master (root-commit) eaadf4e] wrote a readme file
 1 file changed, 2 insertions(+)
 create mode 100644 readme.txt
</code></pre>

<ul>
<li>其中， <code>commit -m &quot;&quot;</code> 命令说明本次提交的说明。</li>
<li>也可以 <code>add</code> 多个文件后一次 <code>commit</code></li>
<li><code>add</code> 命令将文件添加到暂存区</li>
<li><code>commit</code>命令将暂存区所有内容提交到当前分支</li>
</ul>

<h3 id="查看状态">查看状态</h3>

<h4 id="查看仓库状态">查看仓库状态</h4>

<pre><code class="language-bash">$ git status

位于分支 master
尚未暂存以备提交的变更：
  （使用 &quot;git add &lt;文件&gt;...&quot; 更新要提交的内容）
  （使用 &quot;git checkout -- &lt;文件&gt;...&quot; 丢弃工作区的改动）

	修改：     readme.txt

修改尚未加入提交（使用 &quot;git add&quot; 和/或 &quot;git commit -a&quot;）
</code></pre>

<h4 id="查看文件变化部分">查看文件变化部分</h4>

<ul>
<li><code>diff</code> 实际是比较工作区和暂存区文件区别</li>
</ul>

<pre><code class="language-bash">$ git diff readme.txt

diff --git a/readme.txt b/readme.txt
index d8036c1..013b5bc 100644
--- a/readme.txt
+++ b/readme.txt
@@ -1,2 +1,2 @@
-Git is a version control system.
+Git is a distributed version control system.
 Git is free software.
\ No newline at end of file

</code></pre>

<h4 id="查看修改历史记录">查看修改历史记录</h4>

<pre><code class="language-bash">$ git log
commit 0ffb5aef54a52be5ac25da0f7eb0d03af12979aa (HEAD -&gt; master)
Author: cshi &lt;847302434@qq.com&gt;
Date:   Fri Jan 11 12:14:47 2019 +0800

    add GPL

commit 71b1f053c4473948862b8481f22bde39d6f5ce12
Author: cshi &lt;847302434@qq.com&gt;
Date:   Fri Jan 11 12:12:29 2019 +0800

    add distributed

commit 89db0a2f66395fa1079b495df2442a3588a88f6a
Author: cshi &lt;847302434@qq.com&gt;
Date:   Fri Jan 11 11:19:14 2019 +0800

    add a readme file

// 简洁版
$ git log --pretty=oneline
</code></pre>

<h3 id="版本回溯">版本回溯</h3>

<h4 id="版本表示">版本表示</h4>

<ul>
<li>当前版本——<code>HEAD</code></li>
<li>上一个版本——<code>HEAD^</code></li>
<li>上100个版本——<code>HEAD~100</code></li>
</ul>

<h4 id="回溯命令">回溯命令</h4>

<ul>
<li><code>git reset --hard HEAD^</code></li>
<li>回溯到未来版本——<code>git reset --hard 1094a</code>

<ul>
<li>其中， 1094a 是之前显示的未来版本的 <code>commit id</code>,只需写前几位即可</li>
<li>如何找到<code>commit id</code>? 可以用 <code>git reflog</code> 来查看每一次命令</li>
</ul></li>
</ul>

<h3 id="撤销更改">撤销更改</h3>

<h4 id="未-add-的错误修改">未 add 的错误修改</h4>

<pre><code class="language-bash">$ git checkout -- readme.txt
</code></pre>

<ul>
<li><p>命令<code>git checkout -- readme.txt</code>意思就是，把<code>readme.txt</code>文件在工作区的修改全部撤销，这里有两种情况：</p>

<ul>
<li>一种是<code>readme.txt</code>自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态；</li>
<li>一种是<code>readme.txt</code>已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。</li>
</ul></li>
</ul>

<p>总之，就是让这个文件回到最近一次<code>git commit</code>或<code>git add</code>时的状态。</p>

<h4 id="add-了的错误修改">add 了的错误修改</h4>

<pre><code class="language-bash">$ git reset HEAD &lt;file&gt;
</code></pre>

<ul>
<li>将暂存区的修改回退到工作区</li>
<li>然后可以用上面的命令取消工作区的修改</li>
</ul>

<h4 id="commit-了的错误修改">commit 了的错误修改</h4>

<ul>
<li>使用版本回溯</li>
<li>前提是未推送到远程库</li>
</ul>

<h3 id="删除文件">删除文件</h3>

<ul>
<li>删除也是修改</li>
</ul>

<h4 id="确实删除">确实删除</h4>

<ol>
<li>手工删除 或者 <code>rm</code> 命令删除</li>
<li><code>git rm file</code> 删掉</li>
<li><code>git commit</code></li>
</ol>

<h4 id="删错了">删错了</h4>

<p>用版本库里的版本替换工作区版本</p>

<p><code>git checkout -- text.txt</code></p>

<ul>
<li>⚠️： 你恢复的文件只能是最新版本的</li>
</ul>

<h2 id="远程仓库">远程仓库</h2>

<h3 id="配置ssh">配置SSH</h3>

<pre><code class="language-bash">ssh-keygen -t rsa -C &quot;847302434@qq.com&quot;
</code></pre>

<ul>
<li>产生 <code>id_rsa</code> 和 <code>id_rsa.pub</code> 文件在<code>/Users/cshi/.ssh/</code>下</li>
<li>将 <code>id_rsa.pub</code>文件内容填到 GitHub 上。本机就可以向 GitHub 推送</li>
</ul>

<h3 id="push-代码">Push 代码</h3>

<ul>
<li>关联——在本地仓库下运行命令</li>
</ul>

<pre><code class="language-bash">git remote add origin https://github.com/cshi11/LeetCode.git
</code></pre>

<ul>
<li>推送

<ul>
<li>其中，<code>-u</code> 是因为第一次推送，远程库是空的，故将当前 <code>master</code>分支和远程  <code>master</code>    分支关联</li>
</ul></li>
</ul>

<pre><code class="language-bash">git push -u origin master
</code></pre>

<ul>
<li>之后做了修改，本地提交后，可以通过命令将修改推送到 Github</li>
</ul>

<pre><code class="language-bash">git push origin master
</code></pre>

<h3 id="clone">Clone</h3>

<pre><code class="language-bash">git clone git@github.com:cshi11/LeetCode.git
</code></pre>

<ul>
<li>SSH 比 Https 速度更快，不用每次输入口令</li>
</ul>

<h2 id="分支">分支</h2>

<h3 id="创建-合并分支">创建、合并分支</h3>

<ul>
<li>创建新分支<code>dev</code>,则创建一个新指针 <code>dev</code>,指向<code>master</code>相同的提交，再把<code>HEAD</code> 指向 <code>dev</code>,表示当前分支在 <code>dev</code>上。</li>
<li><img src="https://cshi11.github.io/Users/cshi/Desktop/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/assets/0.png" alt="0" /></li>
<li>再提交后，dev 向前走，而 master 不动<img src="https://cshi11.github.io/Users/cshi/Desktop/学习笔记/assets/0 (1).png" alt="0 (/Users/cshi/Desktop/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/assets/0%20(1).png)" /></li>
</ul>

<h4 id="创建并切换分支">创建并切换分支</h4>

<pre><code class="language-bash">git checkout -b dev
</code></pre>

<p>等价于</p>

<pre><code class="language-bash">git branch dev
git checkout dev
</code></pre>

<ul>
<li>查看当前分支</li>
</ul>

<pre><code class="language-bash">git branch
</code></pre>

<h4 id="合并分支">合并分支</h4>

<pre><code class="language-bash">git merge dev

</code></pre>

<h4 id="删除分支">删除分支</h4>

<pre><code class="language-bash">git branch -d dev

</code></pre>
            </article>
          </div>
          
      <div class='entry-meta-bottom'>
        

  <div class="entry-categories"><p><span>Categories</span>
    
    <a href="https://cshi11.github.io/categories/code" title="View all posts in code">code</a>
  </p>
</div>



<div class="entry-tags"><p><span>Tags</span>
  

</p></div>	</div>

	
<div class="author-meta">

  <div class="author">
    	
    <img alt='子适' src="https://www.gravatar.com/avatar/07513bff1ed0d47bd0daae7527a5d56f?s=100&d=identicon" class='avatar avatar-72 photo' height='72' width='72'>
    
    <span>
      Written by:<a href="https://lherman.tk" title="Posts by 子适" rel="author">子适</a> </span>
    </div>
    <div class="bio">
      
      
      <p>| CAUC 飞行器动力工程  <br>| 南航大连机务工程师 <br>| BIT 软件工程</p>
        
      
	
      

    


  



<a class="email" target="_blank"
href="mailto:stancheng197@gmail.com">
<i class="fa fa-envelope"
title="email icon"></i>
</a>







<a class="github" target="_blank"
href="https://github.com/cshi11">
<i class="fa fa-github"
title="github icon"></i>
</a>









</div>
</div>

</div>
</div>

<section id="comments" class="comments">
  

  




</section>
</div>

 



    </div>

    <footer id="site-footer" class="site-footer" role="contentinfo">
	<h1>
    
    <a href=""> 子适 Blog </a>
    
	</h1>

			
			<p class="site-description">人生天地间，忽如远行客。</p>
			

		<div id="menu-footer" class="menu-container menu-footer" role="navigation">
		<div class="menu">

      <ul id="menu-footer-items" class="menu-footer-items">
        
</ul>

</div>	</div>

<ul class="social-media-icons">

        

        


        

        

        
        <li>
        <a href="mailto:stancheng197@gmail.com"  class="email">
            <i class="fa fa-envelope" title="email"></i>
            <span class="screen-reader-text">email</span>
        </a>
        </li>
        

        

        


        
        <li>
        <a href="https://github.com/cshi11"  class="github" target="_blank">
            <i class="fa fa-github" title="github"></i>
            <span class="screen-reader-text">github</span>
        </a>
        </li>
        


        

        

				</ul>	<div class="design-credit">
		
		<p>&copy; 2018 Göran Svensson</p>
		
		<p>Nederburg Hugo Theme by <a href="https://appernetic.io">Appernetic</a>.</p>
		
		<p>A port of Tracks by Compete Themes.</p>
		
	</div>
</footer>

  </div>
  <script src="https://cshi11.github.io/js/jquery.min.js"></script>
<script src="https://cshi11.github.io/js/jquerymigrate.js"></script>
<script src="https://cshi11.github.io/js/production.min.js"></script>

</body>
</html>
